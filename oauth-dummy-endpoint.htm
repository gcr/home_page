<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <style type="text/css">
    body {
        text-align: center;
    }
    #authcode {
        margin-top: 0.5em;
        background: #eef;
    }
  </style>

  <body>
    <h1>Thank you for using Tumblesocks!</h1>

    Your auth code is:
    <div id="authcode">.....</div>

    <br />
    Please copy+paste this code back into Emacs:
    <br />
    <div style="display: inline-block; text-align: left;">
    <ol>
        <li>Click inside the minibuffer at the bottom of the screen</li>
        <li>Hit Enter once, even if it says "Starting Firefox..."</li>
        <li>Paste your code in. (On Linux, you may use the middle mouse
        button)</li>
        <li>Hit Enter again to link Tumblesocks to your account.</li>
    </ol>
    </div>

    <br />
    If something goes wrong, run <tt>M-x
        tumblesocks-api-forget-authentication</tt> and try again.

    <script type="text/javascript">
      window.onload = function() {
         var url = window.location.toString();
         url.match(/\?(.+)$/);
         var params = RegExp.$1;
         var params = params.split("&");
         for(var i=0;i<params.length;i++)
         {
             var tmp = params[i].split("=");
             if (tmp[0] == "oauth_verifier") {
                document.getElementById("authcode").textContent = tmp[1];
             }
         }
      };
    </script>
  </body>
</html>
